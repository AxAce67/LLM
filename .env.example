SYSTEM_ROLE=master
DATABASE_URL=postgresql://llm_user:llm_pass@localhost:5432/llm

# Local PostgreSQL (master)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=llm
POSTGRES_USER=llm_user
POSTGRES_PASSWORD=llm_pass
ADMINER_PORT=8080
DB_UI_URL=http://localhost:8080

# Security
ADMIN_API_TOKEN=change-this-token
ADMIN_API_TOKEN_REQUIRED=1
BOOTSTRAP_TOKEN=
ALLOW_BOOTSTRAP_PASSWORD=0

# Runtime tuning
AUTO_TUNE=1
AUTO_TUNE_REALTIME=1
MAX_CRAWLER_WORKERS=8
MAX_GENERATE_TOKENS=256
ENABLE_TORCH_COMPILE=0
PYTORCH_CPU_THREADS=4

# Collection safety
CRAWLER_RESPECT_ROBOTS=1
CRAWLER_DOMAIN_MIN_INTERVAL_SEC=0.5
CRAWLER_DOMAIN_CONCURRENCY=2
CRAWLER_BATCH_SLEEP_SEC=0.6
CRAWLER_ALLOW_SUBDOMAINS=0

# Data quality gates
ENABLE_TEXT_DEDUP=1
MIN_TRAIN_CHARS=120
MAX_TRAIN_CHARS=20000
TRAIN_LANG_ONLY=ja
ENABLE_PII_FILTER=1

# Source weighting
SOURCE_WEIGHT_WIKIPEDIA=1.4
SOURCE_WEIGHT_ARXIV=1.35
SOURCE_WEIGHT_DOCS=1.3
SOURCE_WEIGHT_NEWS=1.25
SOURCE_WEIGHT_RSS=1.1
SOURCE_WEIGHT_WEB=1.0
QUALITY_WEIGHT_FLOOR=0.35
QUALITY_WEIGHT_BOOST=0.9

# Training defaults
MODEL_SIZE=small
TRAIN_BATCH_SIZE=4
TRAIN_SEQ_LEN=512
TRAIN_STEPS_PER_CYCLE=50
TRAIN_GRAD_ACCUM_STEPS=1
TRAIN_WARMUP_STEPS=20
TRAIN_MIN_LR_RATIO=0.1
TRAIN_SEED=42
VAL_EVAL_EVERY=25
VAL_EVAL_BATCHES=20
EARLY_STOPPING_PATIENCE=6

# Optional collectors
ENABLE_RAG=1
ENABLE_FIXED_SOURCE_MODE=1
ENABLE_WEB_CRAWLER=0
ENABLE_AUTO_DISCOVERY=0
ENABLE_RSS_COLLECTOR=1
ENABLE_NEWS_COLLECTOR=1
ENABLE_ARXIV_COLLECTOR=1
ENABLE_DOCS_COLLECTOR=1

# Collector source customization (comma-separated)
# RSS_FEEDS=https://openai.com/news/rss.xml,https://aws.amazon.com/blogs/machine-learning/feed/
# NEWS_FEEDS=https://feeds.arstechnica.com/arstechnica/index,https://feeds.bbci.co.uk/news/technology/rss.xml
# DOC_SEED_URLS=https://docs.python.org/3/tutorial/index.html,https://fastapi.tiangolo.com/
# WEB_SEED_URLS=https://en.wikipedia.org/wiki/Artificial_intelligence,https://pytorch.org/blog/
# COLLECTOR_USER_AGENT=LLM-Factory-Collector/1.0 (+https://your-domain.example/contact)
